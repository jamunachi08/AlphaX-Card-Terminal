{
  "doctype": "DocType",
  "name": "AlphaX Payment Terminal Settings",
  "module": "AlphaX Card Terminal",
  "custom": 0,
  "is_table": 0,
  "editable_grid": 0,
  "autoname": "field:settings_name",
  "fields": [
    {
      "fieldname": "settings_name",
      "label": "Settings Name",
      "fieldtype": "Data",
      "reqd": 1,
      "in_list_view": 1
    },
    {
      "fieldname": "enabled",
      "label": "Enabled",
      "fieldtype": "Check",
      "default": 1,
      "in_list_view": 1
    },
    {
      "fieldname": "company",
      "label": "Company",
      "fieldtype": "Link",
      "options": "Company",
      "in_list_view": 1
    },
    {
      "fieldname": "branch",
      "label": "Branch",
      "fieldtype": "Link",
      "options": "Branch",
      "in_list_view": 1
    },
    {
      "fieldname": "provider",
      "label": "Provider/Driver",
      "fieldtype": "Select",
      "options": "Generic REST\nLocal Bridge (localhost)\nNetwork TCP",
      "default": "Generic REST"
    },
    {
      "fieldname": "driver",
      "label": "Driver",
      "fieldtype": "Link",
      "options": "AlphaX Terminal Driver",
      "in_list_view": 1
    },
    {
      "fieldname": "brand",
      "label": "Brand",
      "fieldtype": "Link",
      "options": "AlphaX Terminal Brand",
      "description": "Card brand/payment scheme for this terminal profile (e.g., MADA, VISA).",
      "in_list_view": 1
    },
    {
      "fieldname": "bank_app_config",
      "label": "Bank App Config",
      "fieldtype": "Link",
      "options": "AlphaX Bank App Config",
      "description": "Android POS bank application intent configuration (for Smart POS/Aisino)."
    },
    {
      "fieldname": "device",
      "label": "Terminal Device",
      "fieldtype": "Link",
      "options": "AlphaX Terminal Device",
      "description": "Optional device mapping (MQTT topic/device id)."
    },
    {
      "fieldname": "endpoint_url",
      "label": "Endpoint URL",
      "fieldtype": "Data"
    },
    {
      "fieldname": "config_json",
      "label": "Driver Config (JSON)",
      "fieldtype": "Code",
      "options": "JSON",
      "description": "Optional JSON configuration for the selected driver. If provided, it overrides individual fields where applicable."
    },
    {
      "fieldname": "terminal_ip",
      "label": "Terminal IP",
      "fieldtype": "Data"
    },
    {
      "fieldname": "terminal_port",
      "label": "Terminal Port",
      "fieldtype": "Int",
      "default": 0
    },
    {
      "fieldname": "timeout_seconds",
      "label": "Timeout (seconds)",
      "fieldtype": "Int",
      "default": 45
    },
    {
      "fieldname": "merchant_id",
      "label": "Merchant ID (MID)",
      "fieldtype": "Data"
    },
    {
      "fieldname": "terminal_id",
      "label": "Terminal ID (TID)",
      "fieldtype": "Data"
    },
    {
      "fieldname": "require_terminal_approval",
      "label": "Require Terminal Approval",
      "fieldtype": "Check",
      "default": 1
    },
    {
      "fieldname": "allow_manual_reference",
      "label": "Allow Manual Reference (Fallback)",
      "fieldtype": "Check",
      "default": 0
    },
    {
      "fieldname": "store_masked_pan",
      "label": "Store Masked PAN Last4 (Optional)",
      "fieldtype": "Check",
      "default": 1
    },
    {
      "fieldname": "auto_log_from_sales_invoice",
      "label": "Auto Log from Sales Invoice (POS)",
      "fieldtype": "Check",
      "default": 0,
      "description": "If enabled, on Sales Invoice submit the app creates AlphaX Card Transaction logs for MoPs marked Capture Terminal Data."
    }
  ],
  "permissions": [
    {
      "role": "System Manager",
      "read": 1,
      "write": 1,
      "create": 1,
      "delete": 1,
      "submit": 1,
      "cancel": 1,
      "amend": 1
    }
  ],
  "sort_field": "modified",
  "sort_order": "DESC"
}